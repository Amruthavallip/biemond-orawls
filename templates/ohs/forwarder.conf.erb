# NOTE: This is a template to configure mod_weblogic, generated by Puppet.

<% if !@servers.nil? && !@servers.empty? %>
<IfModule weblogic_module>
<LocationMatch "<%= @location %>">
  SetHandler weblogic-handler

  <% if @servers.is_a? String %>
    WebLogicHost <%= @servers.split(/:/).first %>
    WebLogicPort <%= @servers.split(/:/).last %>
  <% else %>
    <% if @servers.size == 1 %>
    WebLogicHost <%= @servers[0].split(/:/).first %>
    WebLogicPort <%= @servers[0].split(/:/).last %>
    <% else %>
    WebLogicCluster <%= @servers.map { |item| "#{item.split(/:/).first}:#{item.split(/:/).last}" }.join ',' %>
    <% end %>
  <% end %>
</LocationMatch>
</IfModule>
<% else %>
# No server info provided to Orawls::Ohs::Forwarder["<%= @title %>"]
<% end %>
